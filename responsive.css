/* Responsive styles for modals */

/* General mobile and iOS optimizations */
body {
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}

/* Make the modal background cover the entire screen */
.modal-overlay {
  padding: 1rem;
  -webkit-transform: translate3d(0, 0, 0); /* Promote to a hardware layer */
  perspective: 1000px;
}

/* Make the modal content responsive */
.modal-content {
  width: 95%;
  max-width: 500px;
  padding: 1.5rem;
}

/* Make the packaging modal responsive */
.embalagens-modal-content {
  max-width: 95%;
}

/* Make the video container responsive */
.embalagens-modal-content .video-container {
  padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
}

/* Make the Christmas popup responsive */
#natal-popup-content {
  width: 100%;
  max-width: none;
  height: 88vh;
  max-height: 88vh;
  border-radius: 1.5rem;
}

/* 3D effect for modals */
.modal-3d {
  transform-style: preserve-3d;
  animation: open-modal 0.5s forwards;
}

@keyframes open-modal {
  from {
    transform: rotateY(90deg);
  }
  to {
    transform: rotateY(0deg);
  }
}

/* Specific styles for mobile devices */
@media (max-width: 768px) {
  /* Make the side tabs responsive */
  #side-tabs-container {
    display: none; /* Hide side tabs on mobile */
  }

  /* Make the main header responsive */
  header {
    padding: 1rem;
  }

  /* Make the mobile menu button visible on mobile */
  #mobile-menu-button {
    display: block;
  }

  /* Hide the desktop navigation on mobile */
  header nav {
    display: none;
  }

  /* Show the mobile menu when active */
  #mobile-menu.hidden {
    display: none;
  }

  #mobile-menu:not(.hidden) {
    display: block;
  }

  /* Modal Principal ocupa 100% no mobile */
  #christmas-modal .modal-panel {
    width: 100% !important;
    height: 90vh !important; /* Altura ajustada */
    max-height: none !important;
    border-radius: 1.5rem !important;
    margin: 0 !important;
  }

  /* Sub-modais flutuantes no mobile */
  #modal-pagamento .modal-panel,
  #modal-entrega .modal-panel,
  #modal-horarios .modal-panel {
    width: 92% !important;
    max-height: 90vh !important; /* Mais altura disponível */
    border-radius: 1rem !important;
  }

  .modal-wrapper {
    padding: 1rem !important;
  }

  .logo-wrapper {
    width: 8rem !important;
    height: 8rem !important;
  }
  h1 {
    font-size: 2.2rem !important;
    margin-bottom: 0.2rem !important;
  }
  p.desc-text {
    margin-bottom: 1rem !important;
    font-size: 0.9rem !important;
  }
  .countdown-wrapper {
    margin-bottom: 1.5rem !important;
  }
  footer {
    padding-bottom: 0.5rem !important;
  }

  /* --- Melhorias de UX para Mobile --- */

  /* Remove texto decorativo lateral para ganhar espaço */
  .side-name-right {
    display: none;
  }

  /* Aumenta a área de toque dos botões e selects para facilitar o clique */
  .btn-gold-metallic,
  .cake-size-select {
    min-height: 48px;
    font-size: 16px; /* Evita zoom automático no iOS ao focar */
  }

  /* Garante que o último item da lista não fique escondido atrás do carrinho flutuante */
  body {
    padding-bottom: 120px;
  }

  /* Remove efeito de zoom na imagem ao tocar (melhor para scroll) */
  .group:hover .cake-card-image {
    transform: none;
  }

  /* Otimiza espaço interno dos modais em telas pequenas */
  .modal-content {
    padding: 1rem;
  }
}
