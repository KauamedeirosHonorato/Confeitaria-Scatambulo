<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Scatambulo Confeitaria - Bolos artesanais e doces finos."
    />

    <link rel="icon" type="image/png" href="./Logo/logoSc.png" />
    <title>Scatambulo Confeitaria</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* --- Estilos Globais --- */
      body {
        font-family: "Poppins", sans-serif;
        -webkit-tap-highlight-color: transparent; /* Remove flash azul no clique em mobile */
        overflow-x: hidden; /* Garante que não haja scroll horizontal */
      }

      /* --- Utilitários --- */
      .text-shadow {
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
      }

      /* --- Botões --- */
      .button-link {
        background-color: #d4af37; /* Dourado Metálico */
        color: #000000;
        font-weight: 600;
        transition: all 0.3s ease-in-out;
        border: 1px solid #d4af37;
      }
      .button-link:hover {
        background-color: #f5e6b3; /* Champagne Claro */
        border-color: #f5e6b3;
        transform: scale(1.05) translateY(-2px);
        box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
      }

      /* --- Ilha Dinâmica (Estilo iPhone) --- */
      #dynamic-island {
        display: flex; /* Começa como flex para alinhamento */
        opacity: 0; /* Começa invisível */
        position: fixed;
        top: 12px;
        left: 50%;
        transform: translateX(-50%) scale(0.8); /* Começa menor */
        width: 260px;
        height: 38px;
        background: radial-gradient(ellipse at center, #3a2f0c 0%, #000 85%);
        border: 1px solid rgba(218, 180, 118, 0.15);
        color: #fff;
        border-radius: 2.5rem;
        z-index: 100;
        align-items: center;
        justify-content: center;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        font-weight: 500;
        font-size: 15px;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        transition: opacity 0.5s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
        pointer-events: none; /* Desativado até ficar visível */
      }

      #dynamic-island.visible {
        opacity: 1;
        transform: translateX(-50%) scale(1);
        pointer-events: auto; /* Ativado quando visível */
      }
      
      /* Animação de 'tap' */
      #dynamic-island.tapped {
        transform: translateX(-50%) scale(0.95);
        transition: transform 0.1s ease-in-out;
      }

      /* Animação do Presente na Ilha */
      #island-gift-icon {
        animation: jump 2s ease-in-out infinite;
      }

      /* --- Animações Gerais --- */
      @keyframes jump {
        0%, 50%, 100% { transform: translateY(0); }
        25% { transform: translateY(-4px); }
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      /* --- Neve de Natal Melhorada --- */
      #snow-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 5; /* Acima do vídeo, abaixo do conteúdo */
        pointer-events: none; /* Permite clicar através da neve */
      }

      .snowflake {
        position: absolute;
        background: white;
        border-radius: 50%;
        /* Combina animação de queda e balanço lateral */
        animation-name: fall, sway;
        animation-timing-function: linear, ease-in-out;
        animation-iteration-count: infinite, infinite;
        animation-direction: normal, alternate; /* Balanço vai e volta */
      }

      /* Queda vertical */
      @keyframes fall {
        0% { top: -10%; }
        100% { top: 110%; }
      }

      /* Balanço horizontal suave */
      @keyframes sway {
        0% { transform: translateX(-15px); }
        100% { transform: translateX(15px); }
      }
    </style>
  </head>

  <body class="bg-black text-white">
    
    <div id="snow-container"></div>

    <div id="dynamic-island-container"></div>

    <div class="fixed top-0 left-0 w-full h-full z-0 overflow-hidden">
      <video
        autoplay
        muted
        loop
        playsinline
        preload="auto"
        poster="./VideoFundo/poster-placeholder.jpg"
        class="w-full h-full object-cover opacity-90"
      >
        <source src="./VideoFundo/Cena1.mp4" type="video/mp4" />
        Seu navegador não suporta vídeos em HTML5.
      </video>
      <div class="absolute top-0 left-0 w-full h-full bg-black/50 z-0"></div>
    </div>

    <div
      id="main-container"
      class="relative z-10 flex flex-col items-center justify-center min-h-screen p-4 text-center"
    >
      <main class="w-full max-w-4xl mx-auto flex flex-col items-center">
        <img
          src="./Logo/logoSc.png"
          alt="Logo Scatambulo Confeitaria"
          class="h-48 w-48 rounded-full mb-6 border-2 border-[#D4AF37] shadow-2xl object-cover"
        />

        <div class="hidden md:block mb-8 animate-fade-in-down">
          <h1 class="text-5xl text-shadow mb-2 font-bold text-[#f5e6b3]">
            Scatambulo Confeitaria
          </h1>
          <p class="text-lg text-gray-200 tracking-wide">
            O sabor que celebra seus momentos.
          </p>
        </div>

        <div
          class="flex flex-col md:flex-row items-center justify-center gap-4 w-full max-w-xs md:max-w-3xl"
        >
          <a
            href="https://chat.whatsapp.com/JOd95NXddpc2a12HBrRGP2"
            target="_blank"
            class="button-link w-full md:w-auto py-3 px-8 rounded-full text-lg font-semibold uppercase tracking-wider shadow-lg flex items-center justify-center gap-3"
            aria-label="Entrar no Grupo VIP do WhatsApp"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M13.601 2.326A7.854 7.854 0 0 0 8 0C3.583 0 0 3.583 0 8c0 1.452.384 2.827 1.095 4.016l-1.095 3.988 4.08-1.073a7.934 7.934 0 0 0 3.925 1.007h.004c4.418 0 8-3.582 8-8a7.94 7.94 0 0 0-2.399-5.674zM8 14.521a6.588 6.588 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"
              />
            </svg>
            <span>Grupo VIP</span>
          </a>

          <a
            href="https://api.whatsapp.com/send/?phone=554499024212&text=Olá%21+Encontrei+seu+perfil+no+Instagram%2C+quero+mais+informações+sobre+encomendas.+Obrigado%21&type=phone_number&app_absent=0"
            target="_blank"
            class="button-link w-full md:w-auto py-3 px-8 rounded-full text-lg font-semibold uppercase tracking-wider shadow-lg flex items-center justify-center gap-3"
            aria-label="Falar no WhatsApp"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M13.601 2.326A7.854 7.854 0 0 0 8 0C3.583 0 0 3.583 0 8c0 1.452.384 2.827 1.095 4.016l-1.095 3.988 4.08-1.073a7.934 7.934 0 0 0 3.925 1.007h.004c4.418 0 8-3.582 8-8a7.94 7.94 0 0 0-2.399-5.674zM8 14.521a6.588 6.588 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"
              />
            </svg>
            <span>Fale Conosco</span>
          </a>

          <a
            href="menu.html"
            class="button-link w-full md:w-auto py-3 px-8 rounded-full text-lg font-semibold uppercase tracking-wider shadow-lg flex items-center justify-center gap-3"
            aria-label="Ver Menu"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              fill="currentColor"
              viewBox="0 0 15 15"
            >
              <path
                d="M7.5 0C5.5 0 4.012 1.512 4 3.5h7c-.012-1.988-1.5-3.5-3.5-3.5M4 4.5c-2 0-2.5 2-2.5 2v.5h12v-.5c0 0-.5-2-2.5-2h-7Zm-2 3v6h11v-6H2Z"
              />
            </svg>
            <span>Menu</span>
          </a>
        </div>
      </main>
    </div>

    <!-- Modal de Natal -->
    <div id="christmas-modal" class="modal-wrapper fixed inset-0 z-50 flex items-center justify-center p-4">
      <div class="modal-backdrop fixed inset-0 bg-black/70 backdrop-blur-sm"></div>
      <div class="modal-panel relative w-full h-[90vh] sm:max-w-5xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all flex flex-col">
        <button id="close-christmas-modal" class="absolute top-4 right-4 z-20 bg-white/80 backdrop-blur-md rounded-full p-2 text-gray-600 hover:text-red-600 transition-colors shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        <iframe src="newnatal.html" class="w-full h-full border-0"></iframe>
      </div>
    </div>

    <script>
      /* --- Script de Configuração e Lógica --- */
      document.addEventListener("DOMContentLoaded", () => {
        // --- CONFIGURAÇÕES ---
        const MODO_TESTE_NATAL = true;

        // --- Datas ---
        const hoje = new Date();
        const mesAtual = hoje.getMonth(); // 0 = Janeiro, 11 = Dezembro
        const ehDezembro = mesAtual === 11 || MODO_TESTE_NATAL;

        // Listener para mensagens do iframe (Controlar botão de fechar)
        window.addEventListener('message', (event) => {
            if (event.data.action === 'toggleCloseButton') {
                const closeBtn = document.getElementById("close-christmas-modal");
                if (closeBtn) closeBtn.style.display = event.data.visible ? 'block' : 'none';
            }
        });

        // --- Ajuste de Viewport para Mobile (Safari/Chrome) ---
        function setViewportHeight() {
          const vh = window.innerHeight * 0.01; 
          document.documentElement.style.setProperty("--vh", `${vh}px`);
          const mainContainer = document.getElementById("main-container");
          if (mainContainer) {
            mainContainer.style.minHeight = window.innerHeight + "px";
          }
        }
        window.addEventListener("resize", setViewportHeight);
        setViewportHeight();

        // --- Função para criar a neve (Configuração SLOW) ---
        function setupSnowEffect() {
          const snowContainer = document.getElementById("snow-container");
          if (!snowContainer) return;

          // Limpa flocos existentes se houver
          snowContainer.innerHTML = '';

          const snowflakeCount = 60; // Quantidade de flocos
          
          for (let i = 0; i < snowflakeCount; i++) {
            const snowflake = document.createElement("div");
            snowflake.className = "snowflake";
            
            // Tamanho aleatório
            const size = Math.random() * 4 + 2; // Entre 2px e 6px
            
            // Posição horizontal aleatória
            const leftPos = Math.random() * 100;
            
            // Duração da queda: Entre 10s e 25s (BEM LENTO)
            const fallDuration = Math.random() * 15 + 10; 
            
            // Duração do balanço lateral: Entre 3s e 8s
            const swayDuration = Math.random() * 5 + 3;
            
            // Delay para começar (negativo para começar já caindo)
            const delay = Math.random() * -20;
            
            // Opacidade aleatória
            const opacity = Math.random() * 0.6 + 0.2;

            // Aplica estilos
            snowflake.style.left = `${leftPos}vw`;
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;
            snowflake.style.opacity = opacity;
            snowflake.style.animationDuration = `${fallDuration}s, ${swayDuration}s`;
            snowflake.style.animationDelay = `${delay}s, ${delay}s`;
            
            // Adiciona desfoque em alguns flocos para profundidade
            if (Math.random() > 0.6) {
                snowflake.style.filter = `blur(${Math.random()}px)`;
            }

            snowContainer.appendChild(snowflake);
          }
        }

        // --- Lógica da Ilha Dinâmica (iPhone) ---
        const islandContainer = document.getElementById("dynamic-island-container");
        const ua = navigator.userAgent;
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);
        
        // Ativa a neve se for período de natal
        if (ehDezembro) setupSnowEffect();

        if (isMobile && islandContainer) {
          let islandContent = "";
          let islandLink = "";
          let islandElementId = "dynamic-island";

          if (ehDezembro) {
            islandLink = "https://www.instagram.com/angelabolosartesanais";
            islandContent = `<span id="island-text">@angelabolosartesanais</span>`;
          }
          
          const islandHTML = `
            <a href="${islandLink}" ${!ehDezembro ? 'target="_blank" rel="noopener noreferrer"' : ''} style="text-decoration: none;">
              <div id="${islandElementId}">
                ${islandContent}
              </div>
            </a>`;
            
          islandContainer.innerHTML = islandHTML;
          
          const dynamicIsland = document.getElementById(islandElementId);

          if (dynamicIsland) {
            setTimeout(() => {
              dynamicIsland.classList.add("visible");
            }, 0);

            const islandLinkElement = dynamicIsland.parentElement;
            const events = ['mousedown', 'touchstart'];
            events.forEach(event => {
                islandLinkElement.addEventListener(event, () => {
                    dynamicIsland.classList.add('tapped');
                });
            });

            const releaseEvents = ['mouseup', 'mouseleave', 'touchend'];
            releaseEvents.forEach(event => {
                islandLinkElement.addEventListener(event, () => {
                    dynamicIsland.classList.remove('tapped');
                });
            });
          }
        }

        // --- Lógica do Modal de Natal ---
        const christmasModal = document.getElementById("christmas-modal");
        if (ehDezembro && christmasModal) {
            const closeBtn = document.getElementById("close-christmas-modal");
            
            // Abre o modal automaticamente após 2 segundos
            setTimeout(() => {
                christmasModal.classList.add("show");
            }, 2000);

            const fecharModal = () => christmasModal.classList.remove("show");

            if (closeBtn) closeBtn.addEventListener("click", fecharModal);
            christmasModal.addEventListener("click", (e) => {
                if (e.target === christmasModal || e.target.classList.contains("modal-backdrop")) fecharModal();
            });
        }
      });
    </script>
  </body>
</html>